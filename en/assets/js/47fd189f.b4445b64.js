"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9092],{8140:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>p,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var t=i(4848),s=i(8453);const r={},d="11 PWM\u7f16\u7a0b",c={id:"Knowledge-Notes/PWM",title:"11 PWM\u7f16\u7a0b",description:"11.1 PWM\u6982\u8ff0",source:"@site/docs/Knowledge-Notes/11_PWM.md",sourceDirName:"Knowledge-Notes",slug:"/Knowledge-Notes/PWM",permalink:"/en/docs/Knowledge-Notes/PWM",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/linux-docs/tree/main/docs/Knowledge-Notes/11_PWM.md",tags:[],version:"current",sidebarPosition:11,frontMatter:{},sidebar:"KnowledgeNotes",previous:{title:"10 \u79fb\u690dU-Boot",permalink:"/en/docs/Knowledge-Notes/RTC"},next:{title:"12 I2C\u7f16\u7a0b",permalink:"/en/docs/Knowledge-Notes/IIC"}},p={},l=[{value:"11.1 PWM\u6982\u8ff0",id:"111-pwm\u6982\u8ff0",level:2},{value:"11.1.1 PWM\u7684\u53c2\u6570\u8bf4\u660e",id:"1111-pwm\u7684\u53c2\u6570\u8bf4\u660e",level:3},{value:"11.2 \u7528\u6237\u5c42\u67e5\u770bPWM",id:"112-\u7528\u6237\u5c42\u67e5\u770bpwm",level:2},{value:"11.3 PWM\u7684SYSFS\u4f7f\u7528",id:"113-pwm\u7684sysfs\u4f7f\u7528",level:2},{value:"11.4 PWM\u5e94\u7528\u7f16\u7a0b",id:"114-pwm\u5e94\u7528\u7f16\u7a0b",level:2},{value:"11.4.1 \u4fee\u6539\u8bbe\u5907\u6811",id:"1141-\u4fee\u6539\u8bbe\u5907\u6811",level:3},{value:"11.4.2 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6",id:"1142-\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",level:3},{value:"11.4.3 \u6dfb\u52a0\u9a71\u52a8",id:"1143-\u6dfb\u52a0\u9a71\u52a8",level:3},{value:"11.4.4 \u8fd0\u884c\u6d4b\u8bd5",id:"1144-\u8fd0\u884c\u6d4b\u8bd5",level:3}];function m(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"11-pwm\u7f16\u7a0b",children:"11 PWM\u7f16\u7a0b"}),"\n",(0,t.jsx)(e.h2,{id:"111-pwm\u6982\u8ff0",children:"11.1 PWM\u6982\u8ff0"}),"\n",(0,t.jsx)(e.p,{children:"\u200b\t\tPWM\uff0c\u82f1\u6587\u540dPulse Width Modulation\uff0c\u662f\u8109\u51b2\u5bbd\u5ea6\u8c03\u5236\u7f29\u5199\uff0c\u5b83\u662f\u901a\u8fc7\u5bf9\u4e00\u7cfb\u5217\u8109\u51b2\u7684\u5bbd\u5ea6\u8fdb\u884c\u8c03\u5236\uff0c\u7b49\u6548\u51fa\u6240\u9700\u8981\u7684\u6ce2\u5f62\uff08\u5305\u542b\u5f62\u72b6\u4ee5\u53ca\u5e45\u503c\uff09\uff0c\u5bf9\u6a21\u62df\u4fe1\u53f7\u7535\u5e73\u8fdb\u884c\u6570\u5b57\u7f16\u7801\uff0c\u4e5f\u5c31\u662f\u8bf4\u901a\u8fc7\u8c03\u8282\u5360\u7a7a\u6bd4\u7684\u53d8\u5316\u6765\u8c03\u8282\u4fe1\u53f7\u3001\u80fd\u91cf\u7b49\u7684\u53d8\u5316\uff0c\u5360\u7a7a\u6bd4\u5c31\u662f\u6307\u5728\u4e00\u4e2a\u5468\u671f\u5185\uff0c\u4fe1\u53f7\u5904\u4e8e\u9ad8\u7535\u5e73\u7684\u65f6\u95f4\u5360\u636e\u6574\u4e2a\u4fe1\u53f7\u5468\u671f\u7684\u767e\u5206\u6bd4\uff0c\u4f8b\u5982\u65b9\u6ce2\u7684\u5360\u7a7a\u6bd4\u5c31\u662f50%\u3002\u662f\u5229\u7528\u5fae\u5904\u7406\u5668\u7684\u6570\u5b57\u8f93\u51fa\u6765\u5bf9\u6a21\u62df\u7535\u8def\u8fdb\u884c\u63a7\u5236\u7684\u4e00\u79cd\u975e\u5e38\u6709\u6548\u7684\u6280\u672f\u3002"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://photos.100ask.net/NewHomeSite/PWM_image1.jpg",alt:""})}),"\n",(0,t.jsx)(e.p,{children:"\u200b\t\tPWM\u4fe1\u53f7\u628a\u6a21\u62df\u4fe1\u53f7\u8f6c\u5316\u4e3a\u6570\u5b57\u7535\u8def\u6240\u9700\u8981\u7684\u7f16\u7801\uff0c\u73b0\u5728\u57fa\u672c\u662f\u91c7\u7528\u6570\u5b57\u7535\u8def\uff0c\u56e0\u6b64\u5728\u5f88\u591a\u573a\u5408\u90fd\u91c7\u7528PWM\u4fe1\u53f7\uff0c\u6211\u4eec\u7ecf\u5e38\u89c1\u5230\u7684\u5c31\u662f\u4ea4\u6d41\u8c03\u5149\u7535\u8def\uff0c\u4e5f\u53ef\u4ee5\u8bf4\u662f\u65e0\u7ea7\u8c03\u901f\uff0c\u9ad8\u7535\u5e73\u5360\u591a\u4e00\u70b9\uff0c\u4e5f\u5c31\u662f\u5360\u7a7a\u6bd4\u5927\u4e00\u70b9\u4eae\u5ea6\u5c31\u4eae\u4e00\u70b9\uff0c\u5360\u7a7a\u6bd4\u5c0f\u4e00\u70b9\u4eae\u5ea6\u5c31\u6ca1\u6709\u90a3\u4e48\u4eae\uff0c\u524d\u63d0\u662fPWM\u7684\u9891\u7387\u8981\u5927\u4e8e\u6211\u4eec\u4eba\u773c\u8bc6\u522b\u9891\u7387\uff0c\u8981\u4e0d\u7136\u4f1a\u51fa\u73b0\u95ea\u70c1\u73b0\u8c61\u3002\u9664\u4e86\u5728\u8c03\u5149\u7535\u8def\u5e94\u7528\uff0c\u8fd8\u6709\u5728\u76f4\u6d41\u65a9\u6ce2\u7535\u8def\u3001\u8702\u9e23\u5668\u9a71\u52a8\u3001\u7535\u673a\u9a71\u52a8\u3001\u9006\u53d8\u7535\u8def\u3001\u52a0\u6e7f\u673a\u96fe\u5316\u91cf\u7b49\u90fd\u4f1a\u6709\u5e94\u7528\u3002"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://photos.100ask.net/NewHomeSite/PWM_image2.jpg",alt:""})}),"\n",(0,t.jsx)(e.h3,{id:"1111-pwm\u7684\u53c2\u6570\u8bf4\u660e",children:"11.1.1 PWM\u7684\u53c2\u6570\u8bf4\u660e"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.a,{href:"https://www.kernel.org/doc/Documentation/pwm.txt",children:"https://www.kernel.org/doc/Documentation/pwm.txt"}),"\n",(0,t.jsx)(e.strong,{children:"period"}),"\nPWM\u4fe1\u53f7\u7684\u603b\u5468\u671f\uff08\u8bfb/\u5199\uff09\u3002\n\u503c\u4ee5\u7eb3\u79d2\u4e3a\u5355\u4f4d\uff0c\u662f\u6d3b\u52a8\u548c\u975e\u6d3b\u52a8\u7684\u603b\u548c\nPWM\u7684\u65f6\u95f4\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"duty_cycle\uff08\u5360\u7a7a\u6bd4\uff09"}),"\nPWM\u4fe1\u53f7\u7684\u6709\u6548\u65f6\u95f4\uff08\u8bfb/\u5199\uff09\u3002\n\u503c\u4ee5\u7eb3\u79d2\u4e3a\u5355\u4f4d\uff0c\u4e14\u5fc5\u987b\u5c0f\u4e8e\u5468\u671f\u3002\n\u5728NORMAL\u6a21\u5f0f\u4e0b\uff0c\u8868\u793a\u4e00\u4e2a\u5468\u671f\u5185\u9ad8\u7535\u5e73\u6301\u7eed\u7684\u65f6\u95f4\n\u5728INVERTED\u6a21\u5f0f\u4e0b\uff0c\u8868\u793a\u4e00\u4e2a\u5468\u671f\u4e2d\u4f4e\u7535\u5e73\u6301\u7eed\u7684\u65f6\u95f4"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"polarity"}),"\n\u6539\u53d8PWM\u4fe1\u53f7\u7684\u6781\u6027\uff08\u8bfb/\u5199\uff09\u3002\n\u5199\u5165\u6b64\u5c5e\u6027\u4ec5\u5728PWM\u82af\u7247\u652f\u6301\u66f4\u6539\u65f6\u624d\u6709\u6548\n\u6781\u6027\u3002\u53ea\u6709PWM\u4e0d\u80fd\u6539\u53d8\u6781\u6027\n\u542f\u7528\u3002\u503c\u662f\u5b57\u7b26\u4e32\u201cnormal\u201d\u6216\u201cinversed\u201d\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"enable"}),"\n\u542f\u7528/\u7981\u7528PWM\u4fe1\u53f7\uff08\u8bfb/\u5199\uff09\u3002"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"0 - \u7981\u7528"}),"\n",(0,t.jsx)(e.li,{children:"1 - \u542f\u7528"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"112-\u7528\u6237\u5c42\u67e5\u770bpwm",children:"11.2 \u7528\u6237\u5c42\u67e5\u770bPWM"}),"\n",(0,t.jsx)(e.p,{children:"\u200b\t\t\u5982\u679c\u5728\u5185\u6838\u914d\u7f6e\u4e2d\u542f\u7528\u4e86CONFIG_SYSFS\uff0c\u5219\u4f1a\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5355\u7684sysfs\u63a5\u53e3\u6765\u4f7f\u7528\u7528\u6237\u7a7a\u95f4\u7684PWM\u3002\u5b83\u5728/ sys / class / pwm /\u4e2d\u516c\u5f00\u3002\u6bcf\u4e2a\u88ab\u63a2\u6d4b\u7684PWM\u63a7\u5236\u5668/\u82af\u7247\u5c06\u88ab\u8f93\u51fa\u4e3apwmchipN\uff0c\u5176\u4e2dN\u662fPWM\u82af\u7247\u7684\u57fa\u7840\u3002\u4f60\u5728\u76ee\u5f55\u91cc\u9762\u4f1a\u53d1\u73b0\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:" 1 echo 0 > /sys/class/pwm/pwmchip0/export /*\u8bbe\u7f6ePWM4\u8f93\u51fa\uff0c\u8c03\u51fapwm0\u76ee\u5f55\u4e0b\u8bbe\u5907\u8282\u70b9\uff0c\u7528\u4e8e\u4ee5\u4e0b\u914d\u7f6e */\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:" 2 echo 1000000 >/sys/class/pwm/pwmchip0/pwm0/period /*\u8bbe\u7f6ePWM4\u4e00\u4e2a\u5468\u671f\u7684\u6301\u7eed\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3ans\uff0c\u53731K Hz */\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:" 3 echo 500000 >/sys/class/pwm/pwmchip0/pwm0/duty_cycle /*\u8bbe\u7f6e\u4e00\u4e2a\u5468\u671f\u4e2d\u7684\u201dON\u201d\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3ans\uff0c\u5373\u5360\u7a7a\u6bd4=duty_cycle/period=50% */\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:" 4 echo 1 >/sys/class/pwm/pwmchip0/pwm0/enable /*\u8bbe\u7f6ePWM4\u4f7f\u80fd */\n"})}),"\n",(0,t.jsx)(e.h2,{id:"113-pwm\u7684sysfs\u4f7f\u7528",children:"11.3 PWM\u7684SYSFS\u4f7f\u7528"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:'#include <stdio.h>\n#include <fcntl.h>\n#include <sys/types.h>\n#include <sys/stat.h>\n#include <sys/time.h>\n#include <unistd.h>\n#include <string.h>\n#include <sys/ioctl.h>\n#include <linux/ioctl.h>\n\n#define dbmsg(fmt, args ...) printf("%s[%d]: "fmt"\\n", __FUNCTION__, __LINE__,##args)\n\n#define DUTY              "duty"\n#define PERIOD            "1000000"\n#define DUTYCYCLE         "500000"\n#define LENGTH            100\n\nint fd_period = 0,fd_duty = 0,fd_enable = 0,duty_m = 0;\n\nint usage()\n{\n    printf("usage:\\n");\n    printf("./pwm-sysfs-test duty <0/1> : 0--\x3estatic; 1--\x3edynamic \\n");   \n    return 0;\n}\n\nint pwm_setup()\n{\n  int fd,ret;\n\n  fd = open("/sys/class/pwm/pwmchip0/export", O_WRONLY);\n  if(fd < 0)\n  {\n      dbmsg("open export error\\n");\n      return -1;\n  }\n  ret = write(fd, "0", strlen("0"));\n  if(ret < 0)\n  {\n      dbmsg("creat pwm0 error\\n");\n      return -1;\n  }else\n  dbmsg("export pwm0 ok\\n");\n\n  fd_period = open("/sys/class/pwm/pwmchip0/pwm0/period", O_RDWR);\n  fd_duty = open("/sys/class/pwm/pwmchip0/pwm0/duty_cycle", O_RDWR);\n  fd_enable = open("/sys/class/pwm/pwmchip0/pwm0/enable", O_RDWR);\n  \n  if((fd_period < 0)||(fd_duty < 0)||(fd_enable < 0))\n  {\n      dbmsg("open error\\n");\n      return -1;\n  }\n\n  ret = write(fd_period, PERIOD,strlen(PERIOD));\n  if(ret < 0)\n  {\n      dbmsg("change period error\\n");\n      return -1;\n  }else\n    dbmsg("change period ok\\n");\n\n  ret = write(fd_duty, DUTYCYCLE, strlen(DUTYCYCLE));\n  if(ret < 0)\n  {\n      dbmsg("change duty_cycle error\\n");\n      return -1;\n  }else\n    dbmsg("change duty_cycle ok\\n");\n\n  ret = write(fd_enable, "1", strlen("1"));\n  if(ret < 0)\n  {\n      dbmsg("enable pwm0 error\\n");\n      return -1;\n  }else\n  dbmsg("enable pwm0 ok\\n");\n\n  duty_m = atoi(DUTYCYCLE)/2;\n  printf("duty_m: %d \\n",duty_m);\n\n  return 0;\n}\n\nint main ( int argc, char *argv[] )\n{\n  int ret;\n  int num;\n  if(argc < 2)\n  {\n    usage();\n    return -1;\n  }\n\n  if(strncmp(argv[1],DUTY, sizeof(DUTY)) == 0)\n  {\n    dbmsg("%s", DUTY);\n    if(argc != 3)\n    {\n      usage();\n      return -1;\n    }\n    pwm_setup();\n  }\n\n  return 0;\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"114-pwm\u5e94\u7528\u7f16\u7a0b",children:"11.4 PWM\u5e94\u7528\u7f16\u7a0b"}),"\n",(0,t.jsx)(e.p,{children:"The main useful user API are the following:\ndevm_pwm_get() or pwm_get() / pwm_put(): this API is used to look up, request, then free a PWM device.\npwm_init_state(),pwm_get_state(), pwm_apply_state(): this API is used to initialize, retrieve and apply the current PWM device state.\npwm_config(): this API updates the PWM device configuration (period and duty cycle)."}),"\n",(0,t.jsx)(e.h3,{id:"1141-\u4fee\u6539\u8bbe\u5907\u6811",children:"11.4.1 \u4fee\u6539\u8bbe\u5907\u6811"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:'beeper {\ncompatible = "pwm-beeper";\npwms = <&pwm 0 1000000 0>;\npinctrl-names = "default";\npinctrl-0 = <&pwm0_pin>;\n};\n'})}),"\n",(0,t.jsx)(e.h3,{id:"1142-\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",children:"11.4.2 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:"Activate PWM framework in the kernel configuration through the Linux menuconfig tool, Menuconfig or how to configure kernel (CONFIG_PWM=y):\nDevice Drivers  ---\x3e\n   [*] Pulse-Width Modulation (PWM) Support  ---\x3e\n"})}),"\n",(0,t.jsx)(e.h3,{id:"1143-\u6dfb\u52a0\u9a71\u52a8",children:"11.4.3 \u6dfb\u52a0\u9a71\u52a8"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:'#include <linux/init.h>\n#include <linux/module.h>\n#include <linux/miscdevice.h>\n#include <linux/fs.h>\n#include <asm/gpio.h>\n#include <linux/pwm.h>\n\n//#include <plat/gpio-cfg.h>\n\n#define PWM_ON  0x100001\n#define PWM_OFF 0x100002\n\nstruct pwm_device *pwm_dev_2;\nstruct pwm_device *pwm_dev_3;\n\nstatic long pwm_ioctl(struct file *file,\n                        unsigned int cmd,\n                        unsigned long arg)\n{\n    int ret;\n    switch(cmd) {\n        case PWM_ON:\n                ret = pwm_config(pwm_dev_2,200000,500000);\n                if(ret < 0){\n                    printk("pwm_dev_2 ioctl fail");\n                    return 0;\n                }\n                ret = pwm_config(pwm_dev_3,300000,500000);\n                if(ret < 0){\n                    printk("pwm_dev_3 ioctl fail");\n                }\n                pwm_enable(pwm_dev_2);\n                pwm_enable(pwm_dev_3);\n            break;\n        case PWM_OFF:\n                ret = pwm_config(pwm_dev_2,0,500000);\n                if(ret < 0){\n                    printk("pwm_dev_2 ioctl fail");\n                    return 0;\n                }\n                ret = pwm_config(pwm_dev_3,0,500000);\n                if(ret < 0){\n                    printk("pwm_dev_3 ioctl fail");\n                }\n                pwm_disable(pwm_dev_2);\n                pwm_disable(pwm_dev_3);\n            break;\n    }\n    return 0;\n}\n\n//\u5b9a\u4e49\u521d\u59cb\u5316\u786c\u4ef6\u64cd\u4f5c\u65b9\u6cd5\nstatic struct file_operations pwm_fops = {\n    .owner = THIS_MODULE,\n    .unlocked_ioctl = pwm_ioctl\n};\n\n//\u5b9a\u4e49\u521d\u59cb\u5316\u6df7\u6742\u8bbe\u5907\u5bf9\u8c61\nstatic struct miscdevice pwm_misc = {\n    .minor = MISC_DYNAMIC_MINOR, //\u52a8\u6001\u5206\u914d\u6b21\u8bbe\u5907\u53f7\n    .name = "mypwm",             //dev/mypwm\n    .fops = &pwm_fops \n};\n\nstatic int pwm_init(void)\n{\n    int ret;\n    printk("regisger pwm_misc device\\n");\n    //1.\u7533\u8bf7pwm\u8d44\u6e90\uff0c\u8bbe\u7f6e\u8f93\u51fa\u4e3a0\n    pwm_dev_2 = pwm_request(1,"pwm_2");\n    if(pwm_dev_2 == NULL){\n        printk("pwm_dev_2 register fail\\n");\n    }\n    pwm_dev_3 = pwm_request(2,"pwm_3");\n    if(pwm_dev_3 == NULL){\n        printk("pwn_dev_3 register fail\\n");\n    }\n\n    ret = pwm_config(pwm_dev_2,0,500000);\n    if(ret < 0){\n        printk("pwm_config_2 init fail\\n");\n        return 0;\n    }\n    ret = pwm_config(pwm_dev_3,0,500000);\n    if(ret < 0){\n        printk("pwm_config_3 init fail\\n");\n        return 0;\n    }\n\n    ret = pwm_enable(pwm_dev_2);\n    if(ret == 0){\n        printk("pwm_enable_dev_2 init success\\n");\n    }\n    if(ret < 0 ){\n        printk("pwm_enable_dev_2 init fail\\n");\n        return 0;\n    }\n    ret = pwm_enable(pwm_dev_3);\n    if(ret == 0){\n        printk("pwm_enable_dev_3 init success\\n");\n    }\n    if(ret < 0 ){\n        printk("pwm_enable_dev_3 init fail\\n");\n        return 0;\n    }\n    //2.\u6ce8\u518c\u6df7\u6742\u8bbe\u5907\n    misc_register(&pwm_misc);\n    return 0;\n}\n\nstatic void pwm_exit(void)\n{\n    printk("unregister pwm_misc device\\n");\n    //1.\u5378\u8f7d\u6df7\u6742\u8bbe\u5907\n    misc_deregister(&pwm_misc);\n    //2.\u91ca\u653epwm\u8d44\u6e90\n    pwm_config(pwm_dev_2,0,500000);\n    pwm_disable(pwm_dev_2);\n    pwm_free(pwm_dev_2);\n    \n    pwm_config(pwm_dev_3,0,500000);\n    pwm_disable(pwm_dev_3);\n    pwm_free(pwm_dev_3);\n}\nmodule_init(pwm_init);\nmodule_exit(pwm_exit);\nMODULE_LICENSE("GPL");\n'})}),"\n",(0,t.jsx)(e.h3,{id:"1144-\u8fd0\u884c\u6d4b\u8bd5",children:"11.4.4 \u8fd0\u884c\u6d4b\u8bd5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:'#include <stdio.h> \n#include <sys/types.h> \n#include <sys/stat.h> \n#include <fcntl.h> \n \n#define PWM_ON  0x100001 \n#define PWM_OFF 0x100002 \n \nint main(void) \n{\n    int fd; \n    int a; \n \n    fd = open("/dev/mypwm", O_RDWR); \n    if (fd < 0) \n        return -1; \n \n    while(1) { \n            ioctl(fd, PWM_ON); \n    } \n    close(fd); \n    return 0; \n}\n'})})]})}function o(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(m,{...n})}):m(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>d,x:()=>c});var t=i(6540);const s={},r=t.createContext(s);function d(n){const e=t.useContext(r);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:d(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);